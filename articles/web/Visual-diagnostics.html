<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="mixgb">
<title>Visual diagnostics for multiply imputed values â€¢ mixgb</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Visual diagnostics for multiply imputed values">
<meta property="og:description" content="mixgb">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">mixgb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../../articles/Imputing-newdata.html">Imputing newdata with a saved mixgb imputer</a>
    <a class="dropdown-item" href="../../articles/Using-mixgb.html">mixgb: Multiple Imputation Through XGBoost</a>
    <a class="dropdown-item" href="../../articles/web/Visual-diagnostics.html">Visual diagnostics for multiply imputed values</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/agnesdeng/mixgb/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Visual diagnostics for multiply imputed values</h1>
                        <h4 data-toc-skip class="author">Yongshi
Deng</h4>
            
            <h4 data-toc-skip class="date">2023-10-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/agnesdeng/mixgb/blob/HEAD/vignettes/web/Visual-diagnostics.Rmd" class="external-link"><code>vignettes/web/Visual-diagnostics.Rmd</code></a></small>
      <div class="d-none name"><code>Visual-diagnostics.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">1. Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>It is crucial to assess the plausibility of imputations before doing
an analysis. The <code>mixgb</code> package provides several visual
diagnostic functions using <code>ggplot2</code> to compare multiply
imputed values versus observed data.</p>
<div class="section level3">
<h3 id="inspecting-imputed-values">1.1 Inspecting imputed values<a class="anchor" aria-label="anchor" href="#inspecting-imputed-values"></a>
</h3>
<p>We will demonstrate these functions using the
<code>nhanes3_newborn</code> dataset. In the original data, almost all
missing values occurred in numeric variables. Only seven observations
are missing in the binary factor variable <code>HFF1</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/agnesdeng/mixgb" class="external-link">mixgb</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">nhanes3_newborn</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; HSHSIZER  HSAGEIR    HSSEX DMARACER DMAETHNR DMARETHN  BMPHEAD BMPRECUM </span></span>
<span><span class="co">#&gt;        0        0        0        0        0        0      124      114 </span></span>
<span><span class="co">#&gt;   BMPSB1   BMPSB2   BMPTR1   BMPTR2    BMPWT   DMPPIR     HFF1     HYD1 </span></span>
<span><span class="co">#&gt;      161      169      124      167      117      192        7        0</span></span></code></pre></div>
<p>In order to visualize some imputed values for other types of
variables, we create some extra missing values in <code>HSHSIZER</code>
(integer), <code>HSAGEIR</code> (integer), <code>HSSEX</code> (binary
factor), <code>DMARETHN</code> (multiclass factor) and <code>HYD1</code>
(Ordinal factor) under the missing completely at random (MCAR)
mechanism.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">withNA.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/createNA.html">createNA</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">nhanes3_newborn</span>, var.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HSHSIZER"</span>, <span class="st">"HSAGEIR"</span>, <span class="st">"HSSEX"</span>, <span class="st">"DMARETHN"</span>, <span class="st">"HYD1"</span><span class="op">)</span>, p <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">withNA.df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; HSHSIZER  HSAGEIR    HSSEX DMARACER DMAETHNR DMARETHN  BMPHEAD BMPRECUM </span></span>
<span><span class="co">#&gt;      211      211      211        0        0      211      124      114 </span></span>
<span><span class="co">#&gt;   BMPSB1   BMPSB2   BMPTR1   BMPTR2    BMPWT   DMPPIR     HFF1     HYD1 </span></span>
<span><span class="co">#&gt;      161      169      124      167      117      192        7      211</span></span></code></pre></div>
<p>We then impute this dataset using <code><a href="../../reference/mixgb.html">mixgb()</a></code> with default
settings. After completion, a list of five imputed datasets is assigned
to <code>imputed.data</code>. Each imputed dataset will have the same
dimension as the original data.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imputed.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/mixgb.html">mixgb</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">withNA.df</span>, m <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:00] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:00] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:00] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:00] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:00] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:01] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:01] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:01] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:01] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:01] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:01] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:01] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:01] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:02] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:02] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:02] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:02] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:02] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:02] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:03] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:03] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:03] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:03] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:03] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:03] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:03] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:04] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:04] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:04] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:04] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:04] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:04] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:05] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:05] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:05] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:05] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:05] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:05] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:05] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:05] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:06] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:06] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:06] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:06] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:06] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:06] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:06] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:07] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:07] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:07] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:07] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:07] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:07] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:07] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:08] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:08] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:08] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:08] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:08] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:09] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:09] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:09] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:09] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:09] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:09] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:09] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:10] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:10] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:10] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:10] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span></code></pre></div>
<p>By using the function <code><a href="../../reference/show_var.html">show_var()</a></code>, we can see the
multiply imputed values of the missing data for a given variable. The
function returns a data.table of <code>m</code> columns, each of which
represents a set of imputed values for the variable of interest. Note
that the output of this function only includes the imputed values of
missing entries in the specified variable.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/show_var.html">show_var</a></span><span class="op">(</span>imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"BMPHEAD"</span>, original.data <span class="op">=</span> <span class="va">withNA.df</span><span class="op">)</span></span>
<span><span class="co">#&gt;        m1   m2   m3   m4   m5</span></span>
<span><span class="co">#&gt;   1: 46.0 44.7 45.4 45.2 46.3</span></span>
<span><span class="co">#&gt;   2: 45.8 43.4 43.1 44.9 44.7</span></span>
<span><span class="co">#&gt;   3: 42.5 42.3 42.7 42.1 42.4</span></span>
<span><span class="co">#&gt;   4: 46.0 45.3 47.4 44.7 44.8</span></span>
<span><span class="co">#&gt;   5: 45.8 45.8 45.1 46.1 45.9</span></span>
<span><span class="co">#&gt;  ---                         </span></span>
<span><span class="co">#&gt; 120: 44.6 46.0 45.8 44.3 46.0</span></span>
<span><span class="co">#&gt; 121: 44.0 44.2 44.9 45.4 44.2</span></span>
<span><span class="co">#&gt; 122: 40.2 41.6 40.9 40.8 41.8</span></span>
<span><span class="co">#&gt; 123: 43.0 44.3 44.0 44.0 44.0</span></span>
<span><span class="co">#&gt; 124: 44.8 47.7 46.0 43.7 45.0</span></span>
<span><span class="fu"><a href="../../reference/show_var.html">show_var</a></span><span class="op">(</span>imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"HFF1"</span>, original.data <span class="op">=</span> <span class="va">withNA.df</span><span class="op">)</span></span>
<span><span class="co">#&gt;    m1 m2 m3 m4 m5</span></span>
<span><span class="co">#&gt; 1:  2  2  2  2  2</span></span>
<span><span class="co">#&gt; 2:  1  1  1  1  1</span></span>
<span><span class="co">#&gt; 3:  2  2  1  2  2</span></span>
<span><span class="co">#&gt; 4:  1  1  1  1  1</span></span>
<span><span class="co">#&gt; 5:  2  2  2  2  1</span></span>
<span><span class="co">#&gt; 6:  2  2  2  2  1</span></span>
<span><span class="co">#&gt; 7:  1  1  1  1  1</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visual-diagnostics-plots">2 Visual diagnostics plots<a class="anchor" aria-label="anchor" href="#visual-diagnostics-plots"></a>
</h2>
<p>The <code>mixgb</code> package provides the following visual
diagnostics functions:</p>
<ol style="list-style-type: lower-roman">
<li><p>Single variable: <code><a href="../../reference/plot_hist.html">plot_hist()</a></code>,
<code><a href="../../reference/plot_box.html">plot_box()</a></code>, <code><a href="../../reference/plot_bar.html">plot_bar()</a></code> ;</p></li>
<li><p>Two variables: <code><a href="../../reference/plot_2num.html">plot_2num()</a></code>,
<code><a href="../../reference/plot_2fac.html">plot_2fac()</a></code>, <code><a href="../../reference/plot_1num1fac.html">plot_1num1fac()</a></code> ;</p></li>
<li><p>Three variables: <code><a href="../../reference/plot_2num1fac.html">plot_2num1fac()</a></code>,
<code><a href="../../reference/plot_1num2fac.html">plot_1num2fac()</a></code>.</p></li>
</ol>
<p>Each function returns <code>m+1</code> panels that enable a
comparison between the observed data and <code>m</code> sets of imputed
values for the missing data.</p>
<div class="section level3">
<h3 id="single-variable">2.1 Single variable<a class="anchor" aria-label="anchor" href="#single-variable"></a>
</h3>
<p>Only imputed values of missing entries in the specified variable will
be plotted in panels <code>m1</code> to <code>m5</code>. An error
message will be displayed if the variable is fully observed and there
are no missing entries to impute.</p>
<div class="section level4">
<h4 id="numeric">2.1.1 Numeric<a class="anchor" aria-label="anchor" href="#numeric"></a>
</h4>
<p>We can plot an imputed numeric variable by histogram or boxplot.</p>
<ul>
<li>
<p><code><a href="../../reference/plot_hist.html">plot_hist()</a></code>: plot histograms with density
curves.</p>
<p>Histograms are a useful tool for displaying the distribution of
numeric data. Users can examine the shapes of the histograms to identify
any unusual patterns in the imputed values. If the data is missing
completely at random (MCAR), we would expect the distribution of imputed
values to be the same as that of the observed values. However, if the
data is missing at random (MAR), the distributions of observed and
imputed values can be quite different. Nevertheless, it is still worth
plotting the imputed data, as any unusual values may indicate that the
imputation procedure is unsatisfactory.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_hist.html">plot_hist</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"BMPHEAD"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-6-1.png" width="95%"></p>
</li>
<li>
<p><code><a href="../../reference/plot_box.html">plot_box()</a></code>: plot box plots with overlaying data
points.</p>
<p>Users can use <code><a href="../../reference/plot_box.html">plot_box()</a></code> to compare the median, lower
and upper quantiles of imputed values with those of the observed values.
The plot also visually displays the disparity in counts between observed
and missing values in the variable of interest.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_box.html">plot_box</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"BMPHEAD"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-7-1.png" width="95%"></p>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="factor">2.1.2 Factor<a class="anchor" aria-label="anchor" href="#factor"></a>
</h4>
<ul>
<li>
<p><code><a href="../../reference/plot_bar.html">plot_bar()</a></code>: plot bar plots</p>
<p>The proportion of each level in a factor will be shown by
<code><a href="../../reference/plot_bar.html">plot_bar()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"HSSEX"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-8-1.png" width="95%"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"DMARETHN"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-8-2.png" width="95%"></p>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="integer">2.1.3 Integer<a class="anchor" aria-label="anchor" href="#integer"></a>
</h4>
<p>Users have the flexibility to choose how to treat integer variables
when generating a plot, as they can be viewed either as numeric or
factor variables. To plot an imputed integer variable, users can use one
of the following functions based on their preferred representation:</p>
<ul>
<li><p><code><a href="../../reference/plot_hist.html">plot_hist()</a></code>: plot histograms with density
curves</p></li>
<li><p><code><a href="../../reference/plot_box.html">plot_box()</a></code>: plot box plot with overlaying data
points</p></li>
<li>
<p><code><a href="../../reference/plot_bar.html">plot_bar()</a></code>: plot bar plot (treat an integer variable
as a factor)</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_hist.html">plot_hist</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"HSHSIZER"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-9-1.png" width="95%"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_box.html">plot_box</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"HSHSIZER"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-9-2.png" width="95%"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.name <span class="op">=</span> <span class="st">"HSHSIZER"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-9-3.png" width="95%"></p>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="ordinal-factor">2.1.4 Ordinal factor<a class="anchor" aria-label="anchor" href="#ordinal-factor"></a>
</h4>
<p>By default, the function <code><a href="../../reference/mixgb.html">mixgb()</a></code> does not convert
ordinal factors to integers. Therefore, we may simply plot ordinal
factors as factors (see Section 2.1.2).</p>
<p>However, setting <code>ordinalAsInteger = TRUE</code> in
<code><a href="../../reference/mixgb.html">mixgb()</a></code> may speed up the imputation process, but users must
decide whether to transform them back. If we choose to convert ordinal
factors to integers prior to imputation, the imputed values must be
plotted as if they were integers (see Section 2.1.3).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imputed.data2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/mixgb.html">mixgb</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">withNA.df</span>, m <span class="op">=</span> <span class="fl">5</span>, ordinalAsInteger <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:15] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:16] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:17] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:17] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:17] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:17] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:17] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:17] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:17] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:18] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:18] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:18] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:18] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:18] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:18] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:18] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:18] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:19] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:19] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:19] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:19] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:19] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:19] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:19] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:19] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:20] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:20] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:20] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:20] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:20] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:20] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:20] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:20] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:21] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:21] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:21] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:21] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:21] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:21] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:21] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:21] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:22] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:22] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:22] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:22] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:22] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:22] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:22] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:23] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:23] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:23] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:23] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:23] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:23] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:23] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:23] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:24] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:24] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:24] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:24] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:24] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:24] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span></span>
<span><span class="fu"><a href="../../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data2</span>, var.name <span class="op">=</span> <span class="st">"HYD1"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-10-1.png" width="95%"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_hist.html">plot_hist</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data2</span>, var.name <span class="op">=</span> <span class="st">"HYD1"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-10-2.png" width="95%"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_box.html">plot_box</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data2</span>, var.name <span class="op">=</span> <span class="st">"HYD1"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-10-3.png" width="95%"></p>
</div>
</div>
<div class="section level3">
<h3 id="two-variables">2.2 Two variables<a class="anchor" aria-label="anchor" href="#two-variables"></a>
</h3>
<p>All of the functions in this section for visualizing the multiply
imputed values of two variables require at least one of the variables in
the original dataset to be incomplete. The imputed values shown in
panels <code>m1</code> to <code>m5</code> are those that were originally
missing in one or both of the variables.</p>
<div class="section level4">
<h4 id="two-numeric-variables">2.2.1 Two numeric variables<a class="anchor" aria-label="anchor" href="#two-numeric-variables"></a>
</h4>
<p>We can generate scatter plots of two imputed numeric variables by
using <code><a href="../../reference/plot_2num.html">plot_2num()</a></code>. We can specify the x-axis variable in
<code>var.x</code> and the y-axis variable in <code>var.y</code>.</p>
<p>Users can choose to plot the shapes of different types of missing
values by setting <code>shape = TRUE</code>. We only recommend plotting
the shapes for small datasets. By default, <code>shape = FALSE</code> is
used to expedite the plotting process.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.y <span class="op">=</span> <span class="st">"BMPRECUM"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, shape <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-11-1.png" width="95%"></p>
<p><strong>NA.condition</strong> represents the following four types of
missing values.</p>
<ol style="list-style-type: lower-roman">
<li><p><code>both.observed</code>: Both <code>var.x</code>
and<code>var.y</code> are observed. This only appears in the first panel
- <code>Observed</code> (Shape: diamond).</p></li>
<li><p><code>both.missing</code>: Imputed values where both
<code>var.x</code> and <code>var.y</code> are originally missing (Shape:
circle);</p></li>
<li><p><code>var.x.missing</code>: Imputed values where
<code>var.x</code> is originally missing and <code>var.y</code> is not
(Shape: X);</p></li>
<li><p><code>var.y.missing</code>: Imputed values where
<code>var.y</code> is originally missing and <code>var.x</code> is not
(Shape: Y).</p></li>
</ol>
</div>
<div class="section level4">
<h4 id="one-numeric-vs-one-factor">2.2.2 One numeric vs one factor<a class="anchor" aria-label="anchor" href="#one-numeric-vs-one-factor"></a>
</h4>
<p>We can plot a numeric variable versus a factor using
<code><a href="../../reference/plot_1num1fac.html">plot_1num1fac()</a></code>. The output of this function is a box plot
with overlaying points. Users are required to specify a numeric variable
in <code>var.num</code> and a factor in <code>var.fac</code>.</p>
<p><strong>NA.condition</strong> is similar to the definition in Section
2.2.1.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_1num1fac.html">plot_1num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.num <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.fac <span class="op">=</span> <span class="st">"HSSEX"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-12-1.png" width="95%"></p>
</div>
<div class="section level4">
<h4 id="two-factors">2.2.3 Two factors<a class="anchor" aria-label="anchor" href="#two-factors"></a>
</h4>
<p>We can generate bar plots to show the relationship between two
factors by using <code><a href="../../reference/plot_2fac.html">plot_2fac()</a></code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2fac.html">plot_2fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.fac1 <span class="op">=</span> <span class="st">"HYD1"</span>, var.fac2 <span class="op">=</span> <span class="st">"HFF1"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-13-1.png" width="95%"></p>
</div>
<div class="section level4">
<h4 id="one-numeric-vs-one-integer">2.2.4 One numeric vs one integer<a class="anchor" aria-label="anchor" href="#one-numeric-vs-one-integer"></a>
</h4>
<p>We can use <code><a href="../../reference/plot_2num.html">plot_2num()</a></code> to visualize the relationship
between a numeric variable and an integer variable. Note that the graphs
would appear differently if the variables <code>var.x</code> and
<code>var.y</code> were swapped.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.y <span class="op">=</span> <span class="st">"HSAGEIR"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, shape <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-14-1.png" width="95%"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"HSAGEIR"</span>, var.y <span class="op">=</span> <span class="st">"BMPHEAD"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, shape <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-14-2.png" width="95%"></p>
<p>If the integer variable <code>HSAGEIR</code> is to be treated as a
factor rather than a numeric variable, the function
<code>plot 1num1fac()</code> can be used.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_1num1fac.html">plot_1num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.num <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.fac <span class="op">=</span> <span class="st">"HSAGEIR"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, shape <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-15-1.png" width="95%"></p>
</div>
<div class="section level4">
<h4 id="two-integers">2.2.5 Two integers<a class="anchor" aria-label="anchor" href="#two-integers"></a>
</h4>
<p>We can plot two integer variables using either
<code><a href="../../reference/plot_2num.html">plot_2num()</a></code> ,<code><a href="../../reference/plot_1num1fac.html">plot_1num1fac()</a></code>, or
<code><a href="../../reference/plot_2fac.html">plot_2fac()</a></code>. Users should choose the plotting functions
based on the nature of the variable. For example, if an integer variable
<code>age</code> has values between 0 and 110, it may be more convenient
to treat <code>age</code> as numeric rather than a factor. If, on the
other hand, an integer variable has just a few unique values (such as 1,
2, 3), it may be preferable to be plotted as a factor. In this dataset,
there are only two variables of integer type -
<code>HSHSIZER</code>(household size) and <code>HSAGEIR</code>(babyâ€™s
age ranging from 2 to 11 months). Although there is no expected
relationship between these two, we still create a plot for demonstration
purposes.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"HSHSIZER"</span>, var.y <span class="op">=</span> <span class="st">"HSAGEIR"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, shape <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-16-1.png" width="95%"></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_1num1fac.html">plot_1num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.num <span class="op">=</span> <span class="st">"HSHSIZER"</span>, var.fac <span class="op">=</span> <span class="st">"HSAGEIR"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, shape <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-16-2.png" width="95%"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2fac.html">plot_2fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.fac1 <span class="op">=</span> <span class="st">"HSHSIZER"</span>, var.fac2 <span class="op">=</span> <span class="st">"HSAGEIR"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-16-3.png" width="95%"></p>
</div>
</div>
<div class="section level3">
<h3 id="three-variables">2.3 Three variables<a class="anchor" aria-label="anchor" href="#three-variables"></a>
</h3>
<p>To plot the multiply imputed values of three variables, at least one
of them has to be incomplete in the original dataset.</p>
<div class="section level4">
<h4 id="two-numeric-variables-conditional-on-one-factor">2.3.1 Two numeric variables conditional on one factor<a class="anchor" aria-label="anchor" href="#two-numeric-variables-conditional-on-one-factor"></a>
</h4>
<p>We can generate a scatter plot of two numeric variables when
conditioned on a factor by using <code><a href="../../reference/plot_2num1fac.html">plot_2num1fac()</a></code>. The
variable for the x-axis should be specified in <code>var.x</code>,
whereas the variable for the y-axis should be specified in
<code>var.y</code>. The factor on which we want to condition is
<code>con.fac</code>.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num1fac.html">plot_2num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.y <span class="op">=</span> <span class="st">"BMPRECUM"</span>,</span>
<span>  con.fac <span class="op">=</span> <span class="st">"HFF1"</span>, original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-17-1.png" width="95%"></p>
<p>When we have three variables, there are <span class="math inline">\(2^3\)</span> different types of missing patterns.
These patterns consist of all possible combinations of zero to three
variables missing. However, attempting to differentiate all eight types
of missingness in the same plot can be challenging, particularly when
working with large datasets. Therefore, we have decided to display the
following three types of missing patterns
(<strong>NA.condition</strong>) in the plot when
<code>shape = TRUE</code>.</p>
<p><strong>NA.condition</strong> represents the following three types of
missing values.</p>
<ol style="list-style-type: lower-roman">
<li><p><code>all.observed</code>: Observations where all three variables
are observed. This only appears in the first panel -
<code>Observed</code> .</p></li>
<li>
<p><code>con.fac.observed</code>: Imputed values where
<code>con.fac</code> is originally observed.</p>
<p>(These points are originally missing in either <code>var.x</code> or
<code>var.y</code> or both)</p>
</li>
<li><p><code>con.fac.missing</code>: imputed values where
<code>con.fac</code> is originally missing. (These points can be
originally observed, or missing in either <code>var.x</code> or
<code>var.y</code> or both)</p></li>
</ol>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num1fac.html">plot_2num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.y <span class="op">=</span> <span class="st">"BMPRECUM"</span>,</span>
<span>  con.fac <span class="op">=</span> <span class="st">"DMARETHN"</span>, original.data <span class="op">=</span> <span class="va">withNA.df</span>, shape <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-18-1.png" width="95%"></p>
<p>If we want to treat an integer variable as numeric, we can place it
in either <code>var.x</code> or <code>var.y</code>. Here is an example,
where <code>HSAGEIR</code> is an integer variable whose values range
from 2 to 11.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num1fac.html">plot_2num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"HSAGEIR"</span>, var.y <span class="op">=</span> <span class="st">"BMPRECUM"</span>,</span>
<span>  con.fac <span class="op">=</span> <span class="st">"DMARETHN"</span>, original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-19-1.png" width="95%"></p>
</div>
<div class="section level4">
<h4 id="one-numeric-variable-and-one-factor-conditional-on-another-factor">2.3.2 One numeric variable and one factor conditional on another
factor<a class="anchor" aria-label="anchor" href="#one-numeric-variable-and-one-factor-conditional-on-another-factor"></a>
</h4>
<p>The function <code><a href="../../reference/plot_1num2fac.html">plot_1num2fac()</a></code> generates boxplots with
overlaying data points for a numeric variable with a factor, conditional
on another factor.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_1num2fac.html">plot_1num2fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.fac <span class="op">=</span> <span class="st">"DMARETHN"</span>, var.num <span class="op">=</span> <span class="st">"BMPRECUM"</span>,</span>
<span>  con.fac <span class="op">=</span> <span class="st">"HSSEX"</span>, original.data <span class="op">=</span> <span class="va">withNA.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-20-1.png" width="95%"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="color-options">3 Color options<a class="anchor" aria-label="anchor" href="#color-options"></a>
</h2>
<p>By default, the observed panel is gray and the other <code>m</code>
panels use <code>ggplot2</code>â€™s default color scheme.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.y <span class="op">=</span> <span class="st">"BMPRECUM"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, color.pal <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-21-1.png" width="95%"></p>
<p>The <code>color.pal</code> argument allows users to specify a custom
color palette with a vector of hex codes, such as the
colorblind-friendly palette <code>Set2</code> from the R package
<code>RColorBrewer</code>. Note that if there are <code>m</code> imputed
datasets, a vector of <code>m+1</code> hex codes is required because an
extra color is needed for the <code>Observed</code> panel.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span>
<span><span class="va">color.codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">brewer.pal</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">6</span>, name <span class="op">=</span> <span class="st">"Set2"</span><span class="op">)</span></span>
<span><span class="va">color.codes</span></span>
<span><span class="co">#&gt; [1] "#66C2A5" "#FC8D62" "#8DA0CB" "#E78AC3" "#A6D854" "#FFD92F"</span></span>
<span></span>
<span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.y <span class="op">=</span> <span class="st">"BMPRECUM"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, color.pal <span class="op">=</span> <span class="va">color.codes</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-22-1.png" width="95%"></p>
<p>Otherwise, we can provide a vector of Râ€™s built-in color names.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">color.names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gray50"</span>, <span class="st">"coral2"</span>, <span class="st">"goldenrod3"</span>, <span class="st">"darkolivegreen4"</span>, <span class="st">"slateblue1"</span>, <span class="st">"plum3"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">imputed.data</span>, var.x <span class="op">=</span> <span class="st">"BMPHEAD"</span>, var.y <span class="op">=</span> <span class="st">"BMPRECUM"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">withNA.df</span>, color.pal <span class="op">=</span> <span class="va">color.names</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-23-1.png" width="95%"></p>
<p>Here is a very useful cheat sheet of R colors names created by Dr
Ying Wei.</p>
<p><a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf" class="external-link uri">http://www.stat.columbia.edu/\~tzheng/files/Rcolor.pdf</a></p>
</div>
<div class="section level2">
<h2 id="plot-multiply-imputed-data-from-other-packages">4 Plot multiply imputed data from other packages<a class="anchor" aria-label="anchor" href="#plot-multiply-imputed-data-from-other-packages"></a>
</h2>
<p>We can also plot multiply imputed datasets obtaining from other
packages, such as <code>mice</code>. Here is an example using the
<code>nhanes2</code> data from <code>mice</code>.</p>
<p>This dataset consists of just 25 rows and 4 columns
(<code>age</code>, <code>bmi</code>, <code>hyp</code> and
<code>chl</code>). There are only 9, 8 and 10 missing values in the
variables <code>bmi</code>, <code>hyp</code>, and <code>chl</code>,
respectively. Note that imputed values are volatile when the dataset is
this small.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/amices/mice" class="external-link">mice</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">nhanes2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 25  4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">nhanes2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; age bmi hyp chl </span></span>
<span><span class="co">#&gt;   0   9   8  10</span></span>
<span></span>
<span><span class="va">imp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">nhanes2</span>, m <span class="op">=</span> <span class="fl">5</span>, printFlag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">mice.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">complete</a></span><span class="op">(</span><span class="va">imp</span>, action <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_hist.html">plot_hist</a></span><span class="op">(</span>imputation.list <span class="op">=</span> <span class="va">mice.data</span>, var.name <span class="op">=</span> <span class="st">"bmi"</span>, original.data <span class="op">=</span> <span class="va">nhanes2</span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-25-1.png" width="95%"></p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_box.html">plot_box</a></span><span class="op">(</span>imputation.list <span class="op">=</span> <span class="va">mice.data</span>, var.name <span class="op">=</span> <span class="st">"chl"</span>, original.data <span class="op">=</span> <span class="va">nhanes2</span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-25-2.png" width="95%"></p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span>imputation.list <span class="op">=</span> <span class="va">mice.data</span>, var.name <span class="op">=</span> <span class="st">"hyp"</span>, original.data <span class="op">=</span> <span class="va">nhanes2</span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-25-3.png" width="95%"></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">mice.data</span>, var.x <span class="op">=</span> <span class="st">"bmi"</span>, var.y <span class="op">=</span> <span class="st">"chl"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">nhanes2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-25-4.png" width="95%"></p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_1num1fac.html">plot_1num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">mice.data</span>, var.num <span class="op">=</span> <span class="st">"chl"</span>, var.fac <span class="op">=</span> <span class="st">"hyp"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">nhanes2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-25-5.png" width="95%"></p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num1fac.html">plot_2num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">mice.data</span>, var.x <span class="op">=</span> <span class="st">"chl"</span>, var.y <span class="op">=</span> <span class="st">"bmi"</span>,</span>
<span>  con.fac <span class="op">=</span> <span class="st">"age"</span>, original.data <span class="op">=</span> <span class="va">nhanes2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-25-6.png" width="95%"></p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num1fac.html">plot_2num1fac</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">mice.data</span>, var.x <span class="op">=</span> <span class="st">"chl"</span>, var.y <span class="op">=</span> <span class="st">"bmi"</span>,</span>
<span>  con.fac <span class="op">=</span> <span class="st">"hyp"</span>, original.data <span class="op">=</span> <span class="va">nhanes2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-25-7.png" width="95%"></p>
</div>
<div class="section level2">
<h2 id="plot-against-masked-true-values">5 Plot against masked true values<a class="anchor" aria-label="anchor" href="#plot-against-masked-true-values"></a>
</h2>
<p>In general, we do not know the true values of the missing data, thus
we can only plot the imputed values versus the observed data. However,
if we happen to know the true values (e.g., in cases where it is
generated by simulation), we may compare them to the imputed values.</p>
<p>Let us generate a simple dataset <code>full.df</code> and create 30%
missing values in variable <code>norm1</code> and <code>norm2</code>
under the MCAR mechanism. We then impute the <code>MCAR.df</code>
dataset with <code><a href="../../reference/mixgb.html">mixgb()</a></code>.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span><span class="va">norm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">N</span>, mean <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">norm2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">N</span>, mean <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">norm1</span> <span class="op">+</span> <span class="va">norm2</span> <span class="op">+</span> <span class="va">norm1</span> <span class="op">*</span> <span class="va">norm2</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">N</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">full.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">y</span>, norm1 <span class="op">=</span> <span class="va">norm1</span>, norm2 <span class="op">=</span> <span class="va">norm2</span><span class="op">)</span></span>
<span><span class="va">MCAR.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/createNA.html">createNA</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">full.df</span>, var.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"norm1"</span>, <span class="st">"norm2"</span><span class="op">)</span>, p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mixgb.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/mixgb.html">mixgb</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MCAR.df</span>, m <span class="op">=</span> <span class="fl">5</span>, nrounds <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span>
<span><span class="co">#&gt; mixgb null start</span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [21:37:49] WARNING: src/learner.cc:767: </span></span>
<span><span class="co">#&gt; Parameters: { "device" } are not used.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mixgb null end</span></span></code></pre></div>
<p>If the true data is known, it can be specified in the argument
<code>true.data</code> in the visual diagnostic functions. The output
will then have an extra panel called <code>MaskedTrue</code>, which
shows values originally observed but intentionally made missing.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_hist.html">plot_hist</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">mixgb.data</span>, var.name <span class="op">=</span> <span class="st">"norm1"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">MCAR.df</span>, true.data <span class="op">=</span> <span class="va">full.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-27-1.png" width="95%"></p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_box.html">plot_box</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">mixgb.data</span>, var.name <span class="op">=</span> <span class="st">"norm2"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">MCAR.df</span>, true.data <span class="op">=</span> <span class="va">full.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-27-2.png" width="95%"></p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/plot_2num.html">plot_2num</a></span><span class="op">(</span></span>
<span>  imputation.list <span class="op">=</span> <span class="va">mixgb.data</span>, var.x <span class="op">=</span> <span class="st">"norm1"</span>, var.y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>  original.data <span class="op">=</span> <span class="va">MCAR.df</span>, true.data <span class="op">=</span> <span class="va">full.df</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Visual-diagnostics_files/figure-html/unnamed-chunk-27-3.png" width="95%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Yongshi Deng.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
